(async()=>{console.log('🔍 === ChatGPT「さらに表示」ボタン診断開始 ===');console.log('\n📋 Step 1: 機能メニューを開く');const funcBtn = document.querySelector('[data-testid="composer-plus-btn"], button[aria-label="Attach files or choose tools"]');if(!funcBtn){console.error('❌ 機能ボタンが見つかりません');return;}console.log('✅ 機能ボタン発見:', funcBtn);funcBtn.click();await new Promise(r => setTimeout(r, 1500));console.log('\n📋 Step 2: メニューの状態を確認');const funcMenu = document.querySelector('[role="menu"]');if(!funcMenu){console.error('❌ メニューが開きませんでした');return;}console.log('✅ メニューが開きました');const allMenuItems = funcMenu.querySelectorAll('[role="menuitem"]');console.log(`見つかったmenuitem数: ${allMenuItems.length}`);let moreBtn = null;let moreBtnIndex = -1;allMenuItems.forEach((item, index) => {const text = item.textContent?.trim() || '';console.log(`[${index}] "${text}"`);if(text === 'さらに表示' || text.includes('さらに表示') || text === 'Show more' || text.includes('Show more')){moreBtn = item;moreBtnIndex = index;console.log(`→ 🎯 「さらに表示」ボタン発見！`);}});if(!moreBtn){console.error('\n❌ 「さらに表示」ボタンが見つかりません');console.log('メニュー内のすべてのテキスト:');funcMenu.querySelectorAll('*').forEach(el => {const text = el.textContent?.trim();if(text && text.length < 50 && !text.includes('\n')){console.log(`- "${text}"`);}});return;}console.log('\n✅ 「さらに表示」ボタンの詳細:');console.log('インデックス:', moreBtnIndex);console.log('className:', moreBtn.className);console.log('tagName:', moreBtn.tagName);console.log('\n📋 Step 4: クリックテスト');moreBtn.click();console.log('✓ click()実行完了');await new Promise(r => setTimeout(r, 1000));const subMenu = document.querySelector('[data-side="right"]');if(subMenu){console.log('✅ サブメニューが開きました！');const subItems = subMenu.querySelectorAll('[role="menuitemradio"]');console.log(`サブメニュー項目数: ${subItems.length}`);subItems.forEach((item, i) => {console.log(`[${i}] ${item.textContent?.trim()}`);});}else{console.log('⚠️ サブメニューが見つかりません');}console.log('\n🔍 === 診断完了 ===');})();