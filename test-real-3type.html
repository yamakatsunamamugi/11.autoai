<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3ç¨®é¡AIå®Œäº†å¾…æ©Ÿ - å®Ÿå‹•ä½œãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: #4ec9b0;
            border-bottom: 2px solid #4ec9b0;
            padding-bottom: 10px;
        }
        .info-box {
            background: #2d2d30;
            border: 1px solid #464647;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .info-box h3 {
            color: #569cd6;
            margin-top: 0;
        }
        .test-steps {
            background: #252526;
            border-left: 3px solid #4ec9b0;
            padding: 15px;
            margin: 20px 0;
        }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: #2d2d30;
            border-radius: 3px;
        }
        .step-number {
            display: inline-block;
            background: #4ec9b0;
            color: #1e1e1e;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 10px;
        }
        code {
            background: #3c3c3c;
            padding: 2px 6px;
            border-radius: 3px;
            color: #ce9178;
            font-family: 'Monaco', 'Courier New', monospace;
        }
        .warning {
            background: #5a3e00;
            border: 1px solid #ff9800;
            color: #ffcc80;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .success {
            background: #1e4620;
            border: 1px solid #4caf50;
            color: #a5d6a7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .code-block {
            background: #1e1e1e;
            border: 1px solid #464647;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Monaco', 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .highlight {
            color: #4ec9b0;
            font-weight: bold;
        }
        button {
            background: #0e639c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover {
            background: #1177bb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” 3ç¨®é¡AIå®Œäº†å¾…æ©Ÿæ©Ÿèƒ½ - å®Ÿå‹•ä½œç¢ºèªæ‰‹é †</h1>
        
        <div class="info-box">
            <h3>å®Ÿè£…å†…å®¹ã®ç¢ºèª</h3>
            <p>StreamProcessorã«ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ï¼š</p>
            <ul>
                <li><code>groupCompletionTracker</code> - 3ç¨®é¡AIã®å®Œäº†çŠ¶æ³ã‚’è¿½è·¡</li>
                <li><code>isGroupComplete()</code> - ã‚°ãƒ«ãƒ¼ãƒ—å®Œäº†ã‚’ãƒã‚§ãƒƒã‚¯</li>
                <li><code>updateGroupCompletion()</code> - ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«çŠ¶æ³ã‚’æ›´æ–°</li>
                <li><code>checkAndStartNextColumnForRow()</code> - 3ç¨®é¡å…¨ã¦å®Œäº†ã¾ã§æ¬¡åˆ—ã‚’ãƒ–ãƒ­ãƒƒã‚¯</li>
            </ul>
        </div>

        <div class="warning">
            <strong>âš ï¸ é‡è¦ãªç¢ºèªäº‹é …</strong>
            <p>å®Ÿè£…ã¯å®Œäº†ã—ã¦ã„ã¾ã™ãŒã€ä»¥ä¸‹ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š</p>
            <ol>
                <li>TaskGeneratorãŒæ­£ã—ã<code>multiAI: true</code>ã¨<code>groupId</code>ã‚’è¨­å®šã—ã¦ã„ã‚‹ã‹</li>
                <li>3ç¨®é¡AIã®ã‚¿ã‚¹ã‚¯ãŒåŒã˜<code>groupId</code>ã‚’å…±æœ‰ã—ã¦ã„ã‚‹ã‹</li>
                <li>å„AIã‚¿ã‚¤ãƒ—ï¼ˆchatgpt, claude, geminiï¼‰ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹</li>
            </ol>
        </div>

        <div class="test-steps">
            <h3>å®Ÿéš›ã®å‹•ä½œãƒ†ã‚¹ãƒˆæ‰‹é †</h3>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>Chromeæ‹¡å¼µæ©Ÿèƒ½ã®é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã</strong>
                <p>æ‹¡å¼µæ©Ÿèƒ½ã®èƒŒæ™¯ãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™</p>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <strong>3ç¨®é¡AIã‚’å«ã‚€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€</strong>
                <p>ã€Œä½¿ã†AIã€è¡Œã«ã€Œ3ç¨®é¡ã€ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½¿ç”¨</p>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <strong>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ­ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª</strong>
                <div class="code-block">
<span class="highlight">[StreamProcessor] ã‚°ãƒ«ãƒ¼ãƒ—ãƒˆãƒ©ãƒƒã‚«ãƒ¼åˆæœŸåŒ–: group_row9_3type_3</span>
[StreamProcessor] ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ: D9 (Window: 1) 
  multiAI: true
  groupId: group_row9_3type_3

<span class="highlight">[StreamProcessor] ã‚°ãƒ«ãƒ¼ãƒ—é€²æ—æ›´æ–°: group_row9_3type_3_9, å®Œäº†: chatgpt, çŠ¶æ³: 1/3</span>
[StreamProcessor] 3ç¨®é¡AIæœªå®Œäº†ã®ãŸã‚æ¬¡åˆ—é–‹å§‹ã‚’ä¿ç•™: D9

<span class="highlight">[StreamProcessor] ã‚°ãƒ«ãƒ¼ãƒ—é€²æ—æ›´æ–°: group_row9_3type_3_9, å®Œäº†: claude, çŠ¶æ³: 2/3</span>
[StreamProcessor] 3ç¨®é¡AIæœªå®Œäº†ã®ãŸã‚æ¬¡åˆ—é–‹å§‹ã‚’ä¿ç•™: E9

<span class="highlight">[StreamProcessor] ã‚°ãƒ«ãƒ¼ãƒ—é€²æ—æ›´æ–°: group_row9_3type_3_9, å®Œäº†: gemini, çŠ¶æ³: 3/3</span>
[StreamProcessor] ã‚°ãƒ«ãƒ¼ãƒ—å®Œäº†: group_row9_3type_3_9
[StreamProcessor] 3ç¨®é¡AIã‚°ãƒ«ãƒ¼ãƒ—å®Œäº†ç¢ºèª: F9
[StreamProcessor] ğŸ“‹ ä¸¦åˆ—ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ç™ºå‹•ï¼
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <strong>æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ</strong>
                <ul>
                    <li>ChatGPTï¼ˆDåˆ—ï¼‰ãŒå®Œäº† â†’ æ¬¡ã®åˆ—ï¼ˆHåˆ—ï¼‰ã¯<span class="highlight">é–‹å§‹ã—ãªã„</span></li>
                    <li>Claudeï¼ˆEåˆ—ï¼‰ãŒå®Œäº† â†’ æ¬¡ã®åˆ—ï¼ˆHåˆ—ï¼‰ã¯<span class="highlight">é–‹å§‹ã—ãªã„</span></li>
                    <li>Geminiï¼ˆFåˆ—ï¼‰ãŒå®Œäº† â†’ æ¬¡ã®åˆ—ï¼ˆHåˆ—ï¼‰ãŒ<span class="highlight">é–‹å§‹ã™ã‚‹</span></li>
                </ul>
            </div>
        </div>

        <div class="success">
            <strong>âœ… æ­£å¸¸å‹•ä½œã®ç¢ºèªãƒã‚¤ãƒ³ãƒˆ</strong>
            <ul>
                <li>ã€Œ3ç¨®é¡AIæœªå®Œäº†ã®ãŸã‚æ¬¡åˆ—é–‹å§‹ã‚’ä¿ç•™ã€ã¨ã„ã†ãƒ­ã‚°ãŒ2å›è¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>ã€Œã‚°ãƒ«ãƒ¼ãƒ—å®Œäº†ã€ã®ãƒ­ã‚°ãŒ3ã¤ç›®ã®AIå®Œäº†å¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>3ã¤ç›®ã®AIå®Œäº†å¾Œã®ã¿ã€Œä¸¦åˆ—ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ç™ºå‹•ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
            </ul>
        </div>

        <div class="info-box">
            <h3>ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰</h3>
            <p>æ‹¡å¼µæ©Ÿèƒ½ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã—ã¦çŠ¶æ…‹ã‚’ç¢ºèªï¼š</p>
            <div class="code-block">
// StreamProcessorã®çŠ¶æ…‹ã‚’ç¢ºèªï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦åˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰
console.log('ã‚°ãƒ«ãƒ¼ãƒ—ãƒˆãƒ©ãƒƒã‚«ãƒ¼:', [...streamProcessor.groupCompletionTracker.entries()]);

// ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼ã®ç¢ºèª
console.log('ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼:', [...streamProcessor.taskQueue.entries()]);

// å®Œäº†ã‚¿ã‚¹ã‚¯ã®ç¢ºèª
console.log('å®Œäº†ã‚¿ã‚¹ã‚¯:', [...streamProcessor.completedTasks]);
            </div>
        </div>

        <div class="test-steps">
            <h3>å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã®ç¢ºèªäº‹é …</h3>
            
            <div class="step">
                <strong>1. ã‚¿ã‚¹ã‚¯ã«multiAIãƒ•ãƒ©ã‚°ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹</strong>
                <div class="code-block">
// TaskGeneratorã®å‡ºåŠ›ã‚’ç¢ºèª
console.log('ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯:', taskList.tasks.filter(t => t.multiAI));
                </div>
            </div>
            
            <div class="step">
                <strong>2. groupIdãŒæ­£ã—ãå…±æœ‰ã•ã‚Œã¦ã„ã‚‹ã‹</strong>
                <div class="code-block">
// åŒã˜è¡Œã®3ã¤ã®ã‚¿ã‚¹ã‚¯ãŒåŒã˜groupIdã‚’æŒã¤ã‹ç¢ºèª
const row9Tasks = taskList.tasks.filter(t => t.row === 9);
console.log('è¡Œ9ã®groupId:', row9Tasks.map(t => ({ col: t.column, groupId: t.groupId })));
                </div>
            </div>
            
            <div class="step">
                <strong>3. AIã‚¿ã‚¤ãƒ—ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹</strong>
                <div class="code-block">
// å„ã‚¿ã‚¹ã‚¯ã®aiTypeã‚’ç¢ºèª
console.log('AIã‚¿ã‚¤ãƒ—:', taskList.tasks.map(t => ({ col: t.column, aiType: t.aiType })));
                </div>
            </div>
        </div>

        <div class="info-box" style="margin-top: 30px;">
            <h3>å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€</h3>
            <ul>
                <li><code>/src/features/task/stream-processor.js</code> - ãƒ¡ã‚¤ãƒ³å®Ÿè£…ï¼ˆ890-1024è¡Œç›®ï¼‰</li>
                <li><code>/src/features/task/generator.js</code> - ã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼ˆ403, 409è¡Œç›®ï¼‰</li>
                <li><code>/src/features/task/models.js</code> - ã‚¿ã‚¹ã‚¯ãƒ¢ãƒ‡ãƒ«å®šç¾©</li>
            </ul>
        </div>
    </div>
</body>
</html>