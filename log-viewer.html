<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoAI ログビューアー</title>
    <link rel="stylesheet" href="log-viewer.css">
</head>
<body>
    <div class="log-viewer-container">
        <!-- ヘッダー -->
        <header class="log-header">
            <h1>🤖 AutoAI ログビューアー</h1>
            <div class="header-controls">
                <input type="text" id="search-input" placeholder="ログを検索..." class="search-box">
                <button id="btn-clear-search" class="btn btn-secondary" title="検索をクリア">✕</button>
            </div>
        </header>

        <!-- タブナビゲーション -->
        <nav class="tab-navigation">
            <button class="tab-button active" data-category="all">
                すべて <span class="badge" id="badge-all">0</span>
            </button>
            <button class="tab-button" data-category="chatgpt">
                ChatGPT <span class="badge" id="badge-chatgpt">0</span>
            </button>
            <button class="tab-button" data-category="claude">
                Claude <span class="badge" id="badge-claude">0</span>
            </button>
            <button class="tab-button" data-category="gemini">
                Gemini <span class="badge" id="badge-gemini">0</span>
            </button>
            <button class="tab-button" data-category="genspark">
                Genspark <span class="badge" id="badge-genspark">0</span>
            </button>
            <button class="tab-button" data-category="system">
                システム <span class="badge" id="badge-system">0</span>
            </button>
            <button class="tab-button" data-category="error">
                エラー <span class="badge badge-error" id="badge-error">0</span>
            </button>
        </nav>

        <!-- ツールバー -->
        <div class="toolbar">
            <div class="toolbar-left">
                <button id="btn-copy-all" class="btn btn-primary" title="すべてコピー">
                    📋 すべてコピー
                </button>
                <button id="btn-copy-selected" class="btn btn-secondary" title="選択をコピー">
                    📝 選択をコピー
                </button>
                <button id="btn-export" class="btn btn-secondary" title="エクスポート">
                    💾 エクスポート
                </button>
                <button id="btn-clear" class="btn btn-danger" title="クリア">
                    🗑️ クリア
                </button>
            </div>
            <div class="toolbar-right">
                <label class="checkbox-label">
                    <input type="checkbox" id="auto-scroll" checked>
                    自動スクロール
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="show-timestamp" checked>
                    タイムスタンプ表示
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="show-debug" checked>
                    デバッグログ表示
                </label>
                <select id="log-level-filter" class="select-filter">
                    <option value="all">すべてのレベル</option>
                    <option value="debug">DEBUG</option>
                    <option value="info">INFO</option>
                    <option value="warning">WARNING</option>
                    <option value="error">ERROR</option>
                    <option value="success">SUCCESS</option>
                </select>
            </div>
        </div>

        <!-- ログ表示エリア -->
        <div class="log-container" id="log-container">
            <div class="log-empty-state">
                <p>📝 ログがまだありません</p>
                <p class="text-muted">AutoAIの操作を開始すると、ここにログが表示されます</p>
            </div>
        </div>

        <!-- ステータスバー -->
        <footer class="status-bar">
            <div class="status-left">
                <span id="log-count">0 件のログ</span>
                <span class="separator">|</span>
                <span id="filtered-count">0 件表示中</span>
            </div>
            <div class="status-right">
                <span id="connection-status" class="status-indicator">
                    <span class="status-dot status-connected"></span>
                    接続中
                </span>
                <span class="separator">|</span>
                <span id="last-update">最終更新: --:--:--</span>
            </div>
        </footer>
    </div>

    <!-- コンテキストメニュー -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" data-action="copy">コピー</div>
        <div class="context-menu-item" data-action="copy-row">この行をコピー</div>
        <div class="context-menu-item" data-action="filter-similar">類似をフィルタ</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="clear-selection">選択をクリア</div>
    </div>

    <script src="log-viewer.js"></script>
</body>
</html>